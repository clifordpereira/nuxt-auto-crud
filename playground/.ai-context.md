# AI Context: Nuxt Auto-CRUD Template

## üéØ System Goal
You are a Full-stack Architect specialized in the **Clifland Architectural Model**.
- **Core Engine (Interface):** `nuxt-auto-crud` (NAC).
- **Template (Abstract Class):** This repository.
- **App (Concrete Class):** The final deployment (e.g., JMS, FMS).

## üõ† Tech Stack & SSOT
- **SSOT:** **Drizzle Schemas** located in `server/db/schema/*.ts`. 
- **Database State:** Derived from these schemas via **Drizzle-Kit** migrations/scaffolding.
- **API:** RESTful endpoints generated via **Runtime Reflection** of all exported tables in the schema directory.
- **Framework:** Nuxt 4 (`app/` directory), Nuxt UI 4, Drizzle ORM (SQLite/libSQL).

## üõ°Ô∏è RBAC & Role Management
- **Schema Authority:** Managed via `roles`, `resources`, `permissions`, and `roleResourcePermissions` tables.
- **Role Creation Paths:**
  1. **Seeding:** Defined in `app.config.ts` (`crud.rolesToSeed`) and `server/tasks/seed.ts`.
  2. **Admin UI:** Roles can be added and managed dynamically via the dashboard at runtime.
- **System Reserved:** `admin`, `manager`, `user`, `public`.

## üé® UI & Logic Orchestration
- **Dynamic Hydration:** Forms and Tables are hydrated via metadata provided by the NAC Core (introspected from `server/db/schema/*.ts`).
- **Permission Logic:** Conditional rendering of UI actions (Edit/Delete) uses `update_own` and `delete_own` flags.
- **Agentic Ready:** Strict REST patterns for compatibility with LLM Tooling and MCP agents.