# AI Context: Nuxt Auto-CRUD (Clifland Model)

## üéØ System Architecture
You are operating within a **Clifland Architectural Model** deployment.
- **Library (Interface):** `nuxt-auto-crud` (Source: GitHub clifordp/nuxt-auto-crud).
- **Template (Abstract):** This repository; provides the Nuxt 4 structure and UI layer.
- **Instance (Concrete):** The specific business logic (e.g., Job/Financial Management).

## üì° Dynamic API Discovery (Runtime Reflection)
**CRITICAL:** This project does NOT use static API route files for CRUD.
- **Discovery Mechanism:** The NAC Core introspects all exported tables from `server/db/schema/*.ts`.
- **Endpoint Pattern:** `/api/[plural_table_name]`
- **Validation:** Automatic via `drizzle-zod` reflection.
- **Action:** To understand an API, you MUST read the corresponding schema file in `server/db/schema/`.

## üõ°Ô∏è Operational Protocols
- **System Fields:** `id`, `createdAt`, `updatedAt`, `deletedAt` are protected. Never attempt to `POST` or `PATCH` these.
- **Soft Deletes:** Standard on all NAC tables.
- **Auth/RBAC:** Permissions are mapped in `app.config.ts`. UI components (`<Can>`) and Server Middleware enforce these via the `roleResourcePermissions` table.

## üìÇ Key Directories for Agents
- `server/db/schema/`: The Single Source of Truth for the API and Data Model.
- `app.config.ts`: Configuration for roles, global UI hides, and seed data.
- `nuxt.config.ts`: Defines whether we are using the local `../src/module` (Development) or the `nuxt-auto-crud` package (Production).